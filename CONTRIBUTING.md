# Contributing guide

## Local development

- [Internal Asana backlog](https://app.asana.com/0/1207449888227387/1207449824366220)

### Prerequisites

- Install [homebrew](https://brew.sh/) if you haven't already
- Install `brew install just`. just is a command line tool used to run commands defined inside the project `justfile`. You run commands by passing the command name, for example `just build-openapi`.

### Clone the repository

This repository relies on a git submodule to get access to our openapi spec. To clone the repository, use the command:

```
git clone --recurse-submodules git@github.com:pinecone-io/pinecone-rust-client.git
```

Or, if you have already cloned the repository, you can update the submodules with

```
git submodule update --init --recursive
```

### Generating code from OpenAPI and Proto specs

The generated code is already checked into the repository, but it can be regenerated by following these steps.

You will require access to the `apis` repository.
- Follow setup instructions for the `apis` repository

OpenAPI

- You need [Docker Desktop](https://www.docker.com/products/docker-desktop/) in order to generate code using openapi. Look at `codegen/build-oas.sh` to see how this is used.
- `just build-openapi`
    - References the spec files from the `codegen/apis` submodule
    - Outputs the generated code to `openapi`

Protobuf
- `brew install protobuf`
- `cargo install protobuf-codegen` and add it to path: `PATH="$HOME/.cargo/bin:$PATH"`
- `just build-proto`
    - References the spec files from the `codegen/apis` submodule
    - Outputs the generated code to `protos`

### Build and run

Build and run the project:
- `cargo build` builds the project
- `cargo test` builds the project and runs tests
